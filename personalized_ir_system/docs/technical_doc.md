# 个性化信息检索系统 - 技术文档

## 1. 系统概述

本系统是一个基于协同过滤算法的个性化电影推荐系统，旨在根据用户的历史观影记录为其推荐可能感兴趣的电影内容。

## 2. 算法原理

### 2.1 协同过滤算法

协同过滤是一种常用的推荐算法，主要分为两类：
1. 基于用户的协同过滤(User-Based Collaborative Filtering)
2. 基于物品的协同过滤(Item-Based Collaborative Filtering)

#### 2.1.1 基于用户的协同过滤
该方法基于"物以类聚，人以群分"的思想，认为具有相似兴趣爱好的用户对同一物品的评价也应该是相似的。

算法流程：
1. 计算用户之间的相似度
2. 寻找与目标用户兴趣相似的邻居用户
3. 基于邻居用户的评分预测目标用户对未评分物品的兴趣度

#### 2.1.2 基于物品的协同过滤
该方法认为用户对相似物品的评分也是相似的，通过计算物品间的相似度来进行推荐。

算法流程：
1. 计算物品之间的相似度
2. 根据用户已评分物品寻找相似物品
3. 基于用户已评分物品预测未评分物品的兴趣度

### 2.2 图神经网络推荐算法

随着深度学习技术的发展，图神经网络(GNN)在推荐系统中得到了广泛应用。其中，LightGCN作为一种简化的图卷积网络，在推荐任务中表现出色。

#### 2.2.1 LightGCN算法原理

LightGCN通过移除传统GCN中的特征变换和非线性激活函数，仅保留邻域聚合操作，从而在保持高性能的同时大大简化了模型结构。

核心思想：
1. 将用户-物品交互数据构建为二部图
2. 通过图卷积操作在图结构上传播信息
3. 通过多层邻域聚合捕获高阶连接信息
4. 通过对所有层的嵌入进行加权平均得到最终表示

#### 2.2.2 LightGCN的优势

1. **简洁性**：去除了复杂的特征变换和非线性激活，只保留最重要的邻域聚合操作
2. **高效性**：模型结构简单，训练和推理速度更快
3. **高性能**：在多个公开数据集上取得了优于传统GCN和其他推荐算法的效果

### 2.3 相似度计算

本系统采用余弦相似度来计算用户间或物品间的相似性：

$$sim(i,j) = cos(\vec{i}, \vec{j}) = \frac{\vec{i} \cdot \vec{j}}{|\vec{i}||\vec{j}|} = \frac{\sum_{k=1}^{n} i_k j_k}{\sqrt{\sum_{k=1}^{n} i_k^2} \sqrt{\sum_{k=1}^{n} j_k^2}}$$

其中 $i$ 和 $j$ 分别表示两个用户或物品，$n$ 表示共同评分的维度。

## 3. 系统架构

系统采用模块化设计，主要包括以下几个模块：

1. 数据处理模块 (data_handler.py)
2. 传统协同过滤推荐算法模块 (recommender.py)
3. LightGCN推荐算法模块 (lightgcn_recommender.py)
4. 评估模块 (evaluator.py)
5. 用户界面模块 (main.py)

## 4. 核心数据结构

### 4.1 用户-物品评分矩阵

系统的核心数据结构是用户-物品评分矩阵，其中行代表用户，列代表物品(电影)，矩阵中的值表示用户对物品的评分。

### 4.2 相似度矩阵

存储用户之间或物品之间的相似度值，用于加速推荐计算过程。

## 5. 性能优化策略

1. 使用缓存机制避免重复计算相似度矩阵
2. 采用稀疏矩阵存储节省内存空间
3. 实现并行计算提高推荐效率

## 6. 评估方法

系统采用多种评估指标来衡量推荐效果：

### 6.1 评分预测评估
- RMSE (均方根误差)
- MAE (平均绝对误差)

### 6.2 Top-N推荐评估
- Precision (精确率)
- Recall (召回率)
- F1-Score (F1值)

## 7. 扩展性考虑

1. 支持更多推荐算法的集成
2. 实现增量更新机制适应新数据
3. 添加深度学习推荐算法
4. 集成更多图神经网络变体（如GAT、NGCF等）